/*
* This appsettings.json file will be overwritten by update packages.
* Only make changes to an environment-specific copy, such as
* appsettings.Production.json or appsettings.Development.json
*/
{
  "Control": {
    "ApplicationName": "TopoMojo",
    "ProfileCacheSeconds": 300,
    "ShowExceptionDetail": false
  },

  /* Limits */
  "Core": {
    /* How many gamespaces can a person have running at once? */
    "ConcurrentInstanceMaximum": 2,

    /* How many workspaces can a person create? */
    "DefaultWorkspaceLimit": 0,

    /* How many templates can a workspace hold? */
    "WorkspaceTemplateLimit": 3
  },

  "ConnectionStrings": {
    // "PostgreSQL": "Server=localhost;Database=identity",
    "Sqlite": "Data Source=topomojo.db",
    // "SqlServer": "Server=(localdb)\\mssqllocaldb;Database=TopomojoDB;Trusted_Connection=True;MultipleActiveResultSets=true"
  },

  "CorsPolicy": {
    "Origins": [],
    "Methods": [],
    "Headers": [],
    "AllowAnyOrigin": true,
    "AllowAnyMethod": true,
    "AllowAnyHeader": true,
    "SupportsCredentials": true
  },

  /* Supported database providers: Sqlite, PostgreSQl, SqlServer */
  "Database": {
    "DevModeRecreate": false,
    "Provider": "Sqlite",
    "SeedTemplateKey": "seed-data.json"
  },

  /* Settings for file uploads */
  "FileUpload": {
    /* Path to public iso folder (corresponds to Pod:IsoStore */
    "IsoRoot": "misc/",
    /* Path to topology folders (corresponds to Pod:DiskStore) */
    "TopoRoot": "misc/",
    "MiscRoot": "misc/",
    "MaxFileBytes": 0
  },

  /* Settings for logging */
  "Logging": {
    "IncludeScopes": false,
    "Debug": {
      "LogLevel": {
      "Microsoft": "Warning",
      "Default": "Information"
      }
    },
    "Console": {
      "LogLevel": {
        "Default": "None"
      }
    }
  },

  /* Settings for validating access tokens from an external identity provider */
  "OpenIdConnect": {
    "Authority": "http://localhost:5000",
    "AuthorizationScope": "sketch-common",
    "RequireHttpsMetadata": false
  },

  /* Settings for interacting with hypervisor(s) */
  "Pod": {

    /* Url: https://vcenter.local or https://esxi[1-4].local (supports ranges)*/
    "Url": "",

    /* Credentials for topomojo at hypervisor(s) */
    "User": "",
    "Password": "",

    /* PoolPath: "datacenter/cluster/pool" (uses first-found for any empty segments */
    "PoolPath": "",

    /* Uplink: name of switch that bridges hosts (standard or distributed) */
    "Uplink": "vSwitch0",

    /* VmStore: datastore path of running vm's (support host macro... ie. "[local-{host}]") */
    "VmStore": "[ds] tm/run/",

    /* IsoStore: datastore path of public iso's */
    "IsoStore": "[ds] iso/",

    /* DiskStore: datastore path of topology folders and template disks */
    "DiskStore": "[ds] tm/",

    /* StockStore: datastore path of stock disks */
    "StockStore": "[ds] tm/stock/",

    /*
      TicketUrlHandler: console url transform method
        "none" // wss://<host>.<internal-domain>/ticket/
        "querystring" // wss://<displayurl>/ticket/123455?vmhost=<internalHost>
        "local-app" //transforms url to wss://<server-url>/<host>/ticket/
        "external-domain" // wss://<host>.<server-url>/ticket/
        "host-map" // wss://<mapped-host>/ticket/
    */
    "DisplayUrl": "",
    "TicketUrlHandler": "none",
    "TicketUrlHostMap": {
      // "int01.internal.local": "ext01.external.domain"
    },
    "Vlan": {
      /* range of vlan id's available to topomojo */
      "Range": "[200-399]",

      /* pre-existing networks available to topomojo vm's */
      "Reservations": [
        // {
        //   "id": 3,
        //   "Name": "bridge-net"
        // }
      ]
    }
  }
}
