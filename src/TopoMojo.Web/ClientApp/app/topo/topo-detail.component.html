<div class="row">
    <div class="col-md-8">
        <div *ngIf="topo">
            <h3><inline-editor type="text" size="30" (onSave)="update()" [(ngModel)]="topo.name"></inline-editor></h3>
            <p><inline-editor type="textarea" rows="3" (onSave)="update()" [(ngModel)]="topo.description"></inline-editor></p>
            <topo-members [topoId]="topo.id"></topo-members>
            <p *ngIf="!trefs">Loading...</p>
            <p *ngIf="trefs && trefs.length == 0">No templates referenced</p>
            <ul *ngIf="trefs" class="list-unstyled">
                <li *ngFor="let t of trefs" class="truncate">
                    <template-editor [tref]="t" (onRemoved)="remove($event)"></template-editor>
                </li>
            </ul>
        </div>
    </div>
    <div class="col-md-4">
        <button (click)="toggleSelector()" class="btn btn-link">
            <i class="fa fa-search"></i> Find Templates</button>
        <div *ngIf="selectorVisible">
            <search-bar (fire)="search($event)"></search-bar>
            <entity-list
                [entities]="publishedTemplates"
                [icon]="addIcon"
                (onSelected)="onAdded($event)"></entity-list>
        </div>
    </div>
</div>